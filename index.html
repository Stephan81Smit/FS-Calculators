<script>
    const modeSelect = document.getElementById("modeSelect");
    const lengthCol = document.getElementById("lengthCol");
    const tonCol = document.getElementById("tonCol");

    modeSelect.addEventListener("change", () => {
        if (modeSelect.value === "weight") {
            lengthCol.style.display = "none";
            tonCol.style.display = "block";
        } else {
            lengthCol.style.display = "block";
            tonCol.style.display = "none";
        }
    });

    document.getElementById("calcWeightBtn").addEventListener("click", () => {
        const width = parseFloat(document.getElementById("width").value) / 1000; // mm to m
        const thickness = parseFloat(document.getElementById("thickness").value) / 1000; // mm to m
        const density = parseFloat(document.getElementById("density").value) * 1000; // g/cm3 to kg/m3

        let kgPerM = width * thickness * density;
        document.getElementById("kgPerM").textContent = kgPerM.toFixed(3) + " kg/m";

        let totalMeters, totalTons;

        if (modeSelect.value === "length") {
            const lengthM = parseFloat(document.getElementById("lengthM").value);
            totalMeters = lengthM;
            totalTons = (kgPerM * lengthM) / 1000;
        } else {
            const totalTonInput = parseFloat(document.getElementById("totalTonInput").value);
            totalTons = totalTonInput;
            totalMeters = (totalTonInput * 1000) / kgPerM;
        }

        document.getElementById("totalMeters").textContent = totalMeters.toFixed(2) + " m";
        document.getElementById("totalTons").textContent = totalTons.toFixed(3) + " tons";
        document.getElementById("weightResults").style.display = "block";
    });

    document.getElementById("calcCostBtn").addEventListener("click", () => {
        const pricePerKg = parseFloat(document.getElementById("pricePerKg").value);
        const weightEach = parseFloat(document.getElementById("weightEach").value);

        const costPerMeter = pricePerKg * weightEach;
        const costPerTon = pricePerKg * 1000;

        document.getElementById("costPerM").textContent = "R " + costPerMeter.toFixed(2);
        document.getElementById("costPerTon").textContent = "R " + costPerTon.toFixed(2);
        document.getElementById("costResults").style.display = "block";
    });
</script>
